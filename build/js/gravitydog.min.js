console.log("loaded vg.js"),define("vg/vg",[],function(){var t={};return t.hitTest=function(t,i,e,o,n,a){return t>=e&&e+n>=t&&i>=o&&o+a>=i},t.hitTestRect=function(i,e,o,n,a,h,s,c){return t.hitTest(i,e,a,h,s,c)||t.hitTest(i+o,e,a,h,s,c)||t.hitTest(i,e+n,a,h,s,c)||t.hitTest(i+o,e+n,a,h,s,c)},t.isMobile=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},t.score=0,t.scorePlus=function(i){t.score+=i},t.getScore=function(){return t.score},t.setScore=function(i){t.score=i},t}),console.log("prop.js loaded"),define("vg/prop",[],function(){var t=function(t,i,e,o,n){this.x=t,this.y=i,this.width=e,this.height=o,this.color=n};return t.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(Math.round(this.x),Math.round(this.y),this.width,this.height)},t}),console.log("sprite.js loaded"),define("vg/sprite",["vg/prop"],function(t){var i=function(i,e,o,n,a){t.call(this,i,e,o,n,a),this.vx=0,this.vy=0,this.speed=0,this.dir=0};return i.prototype=new t,i.prototype.update=function(){this.x+=this.vx,this.y+=this.vy},i.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(Math.round(this.x),Math.round(this.y),this.width,this.height)},i.prototype.setVelocity=function(t,i){this.vx=t,this.vy=i,this.speed=Math.sqrt(t*t+i*i)},i.prototype.setVector=function(t,e){var o=i.vectorToVelocity(t,e);this.vx=o.vx,this.vy=o.vy,this.dir=t,this.speed=e},i.prototype.vOscillate=function(){this.oscillateOffset||(this.oscillateOffset=0),this.oscillateOffset+=4,this.x+=this.vx,this.y+=this.vy+Math.sin(this.oscillateOffset*Math.PI/180)},i.prototype.iconJump=function(t){this.oscillateOffset||(this.oscillateOffset=0),this.baseLineY||(this.baseLineY=this.y),this.oscillateOffset+=4;var i=-Math.sin(this.oscillateOffset*Math.PI/180)*t;this.y-i<this.baseLineY&&(this.y=this.baseLineY-i)},i.vectorToVelocity=function(t,i){var e={},o=t*Math.PI/180;return e.vy=i*Math.sin(o),e.vx=i*Math.cos(o),e},i.prototype.moveForward=function(t){this.x=this.x+this.vx*t,this.y=this.y+this.vy*t},i.bWidth=100,i.bHeight=100,i}),console.log("clickable.js loaded"),define("vg/clickable",["vg/sprite","vg/vg"],function(t,i){var e=function(i,e,o,n,a){t.call(this,i,e,o,n,a),this.padding=0};return e.prototype=new t,e.prototype.setPadding=function(t){this.padding=t},e.prototype.getPadding=function(){this.padding},e.prototype.getClickRect=function(){var t={};return t.x=this.x-this.padding,t.y=this.y-this.padding,t.width=this.width+this.padding,t.height=this.height+this.padding,t},e.prototype.clickTest=function(t,e){var o=this.getClickRect();return i.hitTest(t,e,o.x,o.y,o.width,o.height)},e.prototype.click=function(){console.log("Assign a click method!")},e}),console.log("animator.js loaded"),define("vg/animator",["vg/prop","vg/clickable","vg/sprite"],function(t,i){var e,o=10,n=null,a=[[],[],[]],h=[],s=0,c=0,r=function(t,i,a){n=t,o=i,this.scaleFactor=a,e=this;var h=document.getElementById("canvas"),s=h.offsetLeft+2,c=h.offsetTop+2,r=function(t,i){var o=Math.round((t-s)*e.scaleFactor),n=Math.round((i-c)*e.scaleFactor);console.log("Click at "+o+","+n+" using scale "+e.scaleFactor),e.onClick(o,n)};h.addEventListener?(h.addEventListener("mousedown",function(t){r(t.pageX,t.pageY)},!1),h.addEventListener("touchstart",function(t){t.preventDefault(),r(t.touches[0].pageX,t.touches[0].pageY)},!1)):h.attachEvent&&(h.attachEvent("onmousedown",function(t){r(t.pageX,t.pageY)}),h.attachEvent("ontouchstart",function(t){t.preventDefault(),r(t.touches[0].pageX,t.touches[0].pageY)}))};return r.prototype.setScaleFactor=function(t){return this.scaleFactor=t,this},r.prototype.onClick=function(t,i){h.forEach(function(e){e.clickTest(t,i)&&e.click()})},r.prototype.add=function(t,e){return a[t].push(e),e instanceof i&&h.push(e),this},r.prototype.clear=function(){return a.forEach(function(t,i){a[i]=[]}),h=[],r.iterator=0,this.stop(),this},r.prototype.customAnimationHook=function(){},r.prototype.go=function(){s=setInterval(function(){try{a.forEach(function(t){t.forEach(function(t){t.update&&t.update(),t.check&&t.check(),c>500&&(t.update500&&t.update500(),t.check500&&t.check500()),t.draw(n)})}),e.customAnimationHook(),r.iterator++,c=c>500?0:c+o}catch(t){console.error(t.message),clearInterval(s)}},o)},r.prototype.stop=function(){clearInterval(s)},r.iterator=0,r.prototype.getIteration=function(){return r.iterator},r}),console.log("SpacePuppy.js loaded"),define("spacepuppy",["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite"],function(t,i,e,o,n){var a=function(i,o,n,h,s){e.call(this,i,o,n,h,"rgba(255,255,255,.7)"),this.gameOverCb=s,t.isMobile()&&this.setPadding(10),a.dogCount++};return a.dogCount=0,a.prototype=new e,a.prototype.check500=function(){var i=this.getClickRect();t.hitTestRect(i.x,i.y,i.width,i.height,0,0,n.bWidth,n.bHeight)||this.die()},a.prototype.die=function(){this.check500=function(){},a.dogCount--,a.dogCount<=0&&this.gameOverCb()},a.prototype.click=function(){t.scorePlus(1),this.aboutFace()},a.prototype.aboutFace=function(){var t={};t.x=n.bWidth/2,t.y=n.bHeight/2;var i=0;this.x>t.x&&this.y>t.y?i=2:this.y>t.y?i=3:this.x>t.x&&(i=1);var e=Math.round(90*Math.random());e+=90*i,this.speed=0===this.speed?1:this.speed+.3,this.setVector(e,this.speed)},a}),console.log("spacedog.js loaded"),define("spacedog",["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite","spacepuppy"],function(t,i,e,o,n,a){var h=function(t,i,e,o,n){a.call(this,t,i,e,o,n)};return h.prototype=new a,h.prototype.floatInPlace=function(){this.vOscillate(3)},h.prototype.drift=function(){n.prototype.update.call(this)},h.prototype.update=h.prototype.floatInPlace,h.prototype.click=function(){a.prototype.click.call(this),this.speed>3&&(this.update=h.prototype.drift)},h}),console.log("star.js loaded"),define("star",["vg/vg","vg/prop","vg/sprite"],function(t,i,e){var o=function(t,i,o,n){e.call(this,t,i,o,n,"#FFFFFF")};return o.prototype=new e,o.prototype.update=function(){e.prototype.update.call(this)},o.prototype.check500=function(){t.hitTestRect(this.x,this.y,this.width,this.height,0,0,e.bWidth,e.bHeight)||this.reappear()},o.prototype.warp=function(){this.x=0-this.width,this.y=Math.random()*e.bHeight},o.prototype.center=function(){this.width=2,this.height=2,this.x=e.bHeight/2,this.y=10},o.prototype.increase=function(){this.width+=.25,this.height+=.25},o.prototype.reappear=o.prototype.warp,o}),console.log("main.js loaded"),require(["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite","spacepuppy","spacedog","star"],function(t,i,e,o,n,a,h,s){var c=document.getElementById("sprites"),r=document.getElementById("canvas"),d="40001"===window.location.port?10:30,l="40001"===window.location.port?15:100;r.getContext||alert("Shucks!  Try a different browser please?");var p=r.getContext("2d");p.imageSmoothingEnabled=!1,p.webkitImageSmoothingEnabled=!1,p.mozImageSmoothingEnabled=!1;var u=null,f=null,g=function(){w(),u=new i(p,17,1),v(),n.bWidth=r.width,n.bHeight=r.height,m()},v=function(){var t=verge.viewportW(),i=verge.viewportH(),e=t>i?"landscape":"portrait",o=t>i?i:t;if(t>480||i>480){r.style.width=o+"px",r.style.height=o+"px",r.style.background="#000000","landscape"===e?(document.getElementById("content").style.height=o+"px",document.getElementById("content").style.width=1.5*o+"px"):(document.getElementById("content").style.width=o+"px",document.getElementById("content").style.height=1.5*o+"px");var n=r.width/o;u.setScaleFactor(n)}},y=function(){v()},w=function(){window.addEventListener?window.addEventListener("resize",y,!1):window.attachEvent&&window.attachEvent("onresize",y)},m=function(){u.clear();var t=new e(0,0,r.width,r.height,"#000000");t.update=function(){},t.click=function(){x()},u.add(0,t);for(var i=0;30>i;i++){var n=new s(r.width/2,10,2,2,"#FFFFFF");n.setVector(180*Math.random(),Math.random()+.1),n.reappear=function(){this.setVector(180*Math.random(),Math.random()+.1),this.center()},n.update500=20>i?function(){this.setVelocity(this.vx*=1.2,this.vy*=1.2),this.width+=this.width*this.speed>1.5?.5:0,this.height+=this.height*this.speed>1.5?.5:0}:function(){};var a=Math.random()*r.width/2;n.x+=n.vx*a,n.y+=n.vy*a,u.add(0,n)}var h=new o(-20,20,525,165);h.currentAngle=0,h.clockWise=!0,h.draw=function(t){var i=r.width/2,e=50;t.save(),t.translate(i,e),t.rotate(this.currentAngle*Math.PI/180),t.drawImage(c,0,210,175,55,this.x-i,this.y-e,this.width,this.height),t.restore()},h.update=function(){Math.abs(this.currentAngle)>5&&(this.clockWise=!this.clockWise),this.currentAngle+=this.clockWise?.03:-.03},u.add(2,h);var d=new o(110,150,275,117.5);d.draw=function(t){t.drawImage(c,0,267,110,47,this.x,this.y,this.width,this.height)},u.add(1,d);var l=new e(140,230,120,120);l.draw=function(t){t.drawImage(c,132,40,30,30,this.x,this.y,this.width,this.height)},l.click=function(){x()},l.update=function(){this.iconJump(25)},u.add(2,l);var p=new o(110,390,104,34);p.draw=function(t){t.drawImage(c,119,113,52,17,this.x,this.y,this.width,this.height)},u.add(2,p);var f=new e(240,200,590,440);f.draw=function(t){t.drawImage(c,0,0,118,88,this.x,this.y,this.width,this.height)},f.update=function(){this.vOscillate(1)},u.add(2,f),u.go()},x=function(){u.clear(),t.setScore(0),k(),b(),u.go()},k=function(){p.clearRect(0,0,p.canvas.width,p.canvas.height);var i=new n(0,0,r.width,r.height,"#000000");i.update=function(){},u.add(0,i),u.customAnimationHook=function(){if(t.getScore()>=l){var e=new o(-12,80,0,0);e.draw=function(t){var i="<p>BugzMode!</p>";t.font="20pt monospace",t.fillStyle="black",t.fillText(i,this.x,this.y),t.fillStyle="white",t.fillText(i,this.x+2,this.y+2)},u.add(2,e);var n=new o(-40,70,560,40,"cyan");u.add(0,n),i.draw=function(){},p.rotate(1*Math.PI/180),u.customAnimationHook=function(){}}};for(var e=0;10>e;e++){var d=new s(Math.random()*r.width,Math.random()*r.height,3,3);d.setVelocity(1.5*Math.random()+1,0),u.add(0,d)}var g=new s(Math.random()*r.width,Math.random()*r.height,114,114);g.x-=g.width/2,g.y-=g.height/2,g.setVelocity(.5,0),g.draw=function(t){t.drawImage(c,0,93,114,114,this.x,this.y,this.width,this.height)},u.add(1,g),a.dogCount=0;var v=new h(200,200,177,132,M);v.draw=function(t){t.drawImage(c,0,0,118,88,this.x,this.y,this.width,this.height)},v.click=function(){h.prototype.click.call(this),f.msg="GO!!!!!",f.setVelocity(5,0);var i=Math.sqrt(t.getScore()-5);if(i===Math.ceil(i)){var e=new a(v.x,v.y,96,88,M);e.draw=function(t){t.drawImage(c,0,315,48,44,this.x,this.y,this.width,this.height)},e.aboutFace(),e.moveForward(50),u.add(1,e),v.setVelocity(0,0),v.update=v.floatInPlace}},u.add(1,v)},b=function(){var i=new o(10,10,29,29);i.draw=function(t){t.drawImage(c,133,8,29,29,this.x,this.y,this.width,this.height)},u.add(2,i);var e=new o(45,38,0,0);e.draw=function(i){i.font="32pt silkscreennormal",i.fillStyle="white",i.fillText(t.getScore()+"",this.x,this.y)},u.add(2,e);var a=new o(4,4,180,40,"black");u.add(0,a),f=new n(150,100,0,0),f.msg="READY??",f.draw=function(t){t.font="32pt silkscreennormal",t.fillStyle="black",t.fillText(this.msg,this.x,this.y),t.fillStyle="white",t.fillText(this.msg,this.x+2,this.y+2)},u.add(2,f);var h=new o(200,470,0,0);h.draw=function(t){t.font="16pt Arial",t.fillStyle="rgba(225, 225, 225, 1)",t.fillText("sparkyland.com/gravitydog",this.x,this.y)},u.add(1,h)},M=function(){var i=new o(120,120,240,160,"rgba(255, 255, 255, .8)");u.add(2,i);var i=new o(125,125,230,50,"#33DD44");u.add(2,i);var n=new o(130,160,0,0);n.draw=function(i){var e=t.getScore()>=d?"Nice JOB!":"Keep try!";i.font="30pt silkscreennormal",i.fillStyle="black",i.fillText(e,this.x,this.y),i.fillStyle="white",i.fillText(e,this.x+2,this.y+2)},u.add(2,n);var a=new e(160,200,60,60);a.draw=function(t){t.drawImage(c,132,74,30,30,this.x,this.y,this.width,this.height)},a.click=function(){m()},u.add(2,a);var h=new e(260,200,60,60);h.draw=function(t){t.drawImage(c,132,40,30,30,this.x,this.y,this.width,this.height)},h.click=function(){x()},u.add(2,h)};g()}),define("gravitydog",function(){});